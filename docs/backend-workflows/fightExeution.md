# Fight Execution - Workflow üåäü¶≠üåä

1Ô∏è‚É£ `FightsMatchmaker` calls `startFight()` on `FightsExecutor`.

2Ô∏è‚É£ `FightsExecutor` calls Chainlink Functions with
the default fight prompt and execution script.

3Ô∏è‚É£ A `DON` will receive the deno ("javascript") code and execute an API call to OpenAI-ChatPGT to simulate the fight. Two stories will be gaenerated, 1 where one player wins and another where the other player wins.

4Ô∏è‚É£ The `DON` will return the result of the fight to `FightsExecutor` trhough `fulfillRequest()`.

5Ô∏è‚É£ The stories generated by ChatGPT will be emitted as an event. `TheGraph` will register them. The user will se in the font-end somehting like: Two alternative futures are being decided by quantum fluctuations... In the same transaction a VRF request is sent as `fulfillRequest()` calls
`requestRandomWinner()`.

6Ô∏è‚É£ A winner will be generated via `VRF` with a 50% chance of winning each user for now and simplicity.

7Ô∏è‚É£ The winner decided by `VRF` will receive the bets both players sent. The front-end will react to this and show the winner.

[Next: Workflow of fight automation](./fightAutomation.md)

---

## Improvements üí°

1. Instead of a 50% chance of winning. An AI generated distribution based on nft descriptions mixed with current weather clima from a weather API can be decided as fair probability distribution. This could be use to simulate that players are fighting in X random part of the globe in this exact moment as an influencing fair factor. A lot of diverse natural data via API can be used to bia the outcome distributed in a realistic way creating a more dynamic, immersive and overall entertaining experience.
